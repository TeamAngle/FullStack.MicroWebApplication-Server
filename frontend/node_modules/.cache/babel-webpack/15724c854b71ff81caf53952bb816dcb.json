{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"src/app/app.component\";\nimport * as i3 from \"../../services/blog-post.service\";\n\nfunction UserHomeComponent_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"a\", 7);\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function UserHomeComponent_div_1_div_2_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const blog_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.onEdit(blog_r2);\n    });\n    i0.ɵɵtext(8, \"...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function UserHomeComponent_div_1_div_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const blog_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.onDelete(blog_r2);\n    });\n    i0.ɵɵtext(10, \"X\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const blog_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", blog_r2.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/blog/\", blog_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(blog_r2.title);\n  }\n}\n\nfunction UserHomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"body\");\n    i0.ɵɵtemplate(2, UserHomeComponent_div_1_div_2_Template, 11, 3, \"div\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.currentUser.blogPostList);\n  }\n}\n\nexport let UserHomeComponent = /*#__PURE__*/(() => {\n  class UserHomeComponent {\n    constructor(userService, app, blogService) {\n      this.userService = userService;\n      this.app = app;\n      this.blogService = blogService;\n      this.userImage = 'https://static.vecteezy.com/system/resources/thumbnails/000/661/657/small_2x/creative-lime-slice-popsicle.jpg';\n    }\n\n    ngOnInit() {\n      this.getCurrentUser();\n    } // private filterBlogs(): void {\n    //   this.blogList = [];\n    //   for(let blog of this.app.blogs){\n    //     if(blog.user.id === this.app.user.id){\n    //       this.blogList.push(blog)\n    //     }\n    //   }\n    // }\n\n\n    getCurrentUser() {\n      this.userService.getCurrentUser().subscribe(session => {\n        this.userService.getUser(session.userId).subscribe(user => {\n          this.currentUser = user;\n          this.app.user = user;\n          this.userImage = user.userImage ? user.userImage : this.userImage;\n        });\n      });\n    }\n\n    onDelete(blog) {\n      console.log(blog);\n      this.blogService.deleteBlogPost(blog.id).subscribe(post => console.log(post));\n    }\n\n    onEdit(blog) {\n      console.log(blog);\n      window.location.replace(`/editblog/${blog.id}`);\n    }\n\n    updateUser() {\n      this.userService.updateUser(this.currentUser, this.currentUser.id).subscribe(user => this.currentUser = user);\n    }\n\n  }\n\n  UserHomeComponent.ɵfac = function UserHomeComponent_Factory(t) {\n    return new (t || UserHomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AppComponent), i0.ɵɵdirectiveInject(i3.BlogPostService));\n  };\n\n  UserHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserHomeComponent,\n    selectors: [[\"app-user-home\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[\"id\", \"bloglist\", 4, \"ngIf\"], [3, \"userImage\"], [\"id\", \"bloglist\"], [\"class\", \"bloglist\", \"id\", \"userblogs\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"userblogs\", 1, \"bloglist\"], [\"alt\", \"\", 3, \"src\"], [1, \"details\"], [3, \"routerLink\"], [1, \"buttons\"], [3, \"click\"]],\n    template: function UserHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵtemplate(1, UserHomeComponent_div_1_Template, 3, 1, \"div\", 0);\n        i0.ɵɵelement(2, \"app-user-sidebar\", 1);\n        i0.ɵɵelement(3, \"app-footer\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"userImage\", ctx.userImage);\n      }\n    },\n    styles: [\"body[_ngcontent-%COMP%]{margin-top:130px;padding-bottom:60px;margin-bottom:56px;margin-left:-6px;background-color:#f5f2ee;height:100%;width:76%;left:0;font-family:\\\"UnJamoBatang\\\",sans-serif;position:relative;display:flex;flex-wrap:wrap}.bloglist[_ngcontent-%COMP%]{margin-left:11%;margin-top:5%}img[_ngcontent-%COMP%]{width:260px;height:260px;object-fit:cover}a[_ngcontent-%COMP%]{color:#301904;text-decoration:none;font-size:20px;padding-left:3px}.details[_ngcontent-%COMP%]{display:flex;background-color:#fff;margin-top:-4px;padding-top:15px;padding-bottom:15px}.buttons[_ngcontent-%COMP%]{margin-left:auto}button[_ngcontent-%COMP%]{color:#301904;background-color:#fff;border:none;font-size:12px}\"]\n  });\n  return UserHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}