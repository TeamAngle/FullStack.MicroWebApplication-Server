{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/app.component\";\nimport * as i2 from \"@angular/forms\";\nexport let NewuserComponent = /*#__PURE__*/(() => {\n  class NewuserComponent {\n    constructor(app) {\n      this.app = app;\n      this.name = \"\";\n      this.email = \"\";\n      this.password = \"\";\n    }\n\n    ngOnInit() {}\n\n    onSubmit() {\n      if (this.userExists()) return;\n\n      if (!this.hasNoEmptyFields()) {\n        alert(\"Please fill out all fields\");\n        return;\n      }\n\n      if (!this.validPassword()) {\n        alert(\"Password must contain at least 8 characters, one number and one special character\");\n        return;\n      }\n\n      let user = {\n        name: this.name,\n        password: this.password,\n        email: this.email\n      };\n      console.log('creating user', user);\n      this.app.addUser(user);\n      window.location.replace('');\n    }\n\n    userExists() {\n      if (this.app.usernameExists(this.name)) {\n        alert(\"Selected username already exists\");\n        return true;\n      }\n\n      return false;\n    }\n\n    hasNoEmptyFields() {\n      return this.name.length > 0 && this.email.length > 0 && this.password.length > 0;\n    }\n\n    validPassword() {\n      let pattern = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$/;\n      let reg = new RegExp(pattern);\n      return reg.test(this.password);\n    }\n\n  }\n\n  NewuserComponent.ɵfac = function NewuserComponent_Factory(t) {\n    return new (t || NewuserComponent)(i0.ɵɵdirectiveInject(i1.AppComponent));\n  };\n\n  NewuserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewuserComponent,\n    selectors: [[\"app-newuser\"]],\n    decls: 30,\n    vars: 3,\n    consts: [[\"src\", \"https://www.workshops-popup.com/wpp-archive/uploads/2018/03/S0597064-red-2.jpg\", \"alt\", \"lemons and spices\"], [1, \"newUserBody\"], [1, \"newUserForm\"], [3, \"ngSubmit\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"username\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"text\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Create Account\", 1, \"login-button\"]],\n    template: function NewuserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\");\n        i0.ɵɵelement(1, \"img\", 0);\n        i0.ɵɵelementStart(2, \"body\");\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelementStart(4, \"h3\");\n        i0.ɵɵtext(5, \"Create a new user account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"p\");\n        i0.ɵɵtext(8, \"Please enter your user data into the form below\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 2);\n        i0.ɵɵelementStart(10, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function NewuserComponent_Template_form_ngSubmit_10_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(11, \"label\", 4);\n        i0.ɵɵtext(12, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵelementStart(14, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function NewuserComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵelementStart(17, \"label\", 6);\n        i0.ɵɵtext(18, \"Email Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelementStart(20, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function NewuserComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementStart(23, \"label\", 8);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementStart(26, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function NewuserComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"br\");\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelement(29, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.name);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n    styles: [\"html[_ngcontent-%COMP%]{display:flex}img[_ngcontent-%COMP%]{margin-top:-.5%;height:100vh}body[_ngcontent-%COMP%]{flex-direction:column;margin-top:2%;margin-left:7%;width:40%;height:90vh;background-color:#fcf9f5;font-family:\\\"UnJamoBatang\\\",sans-serif}.newUserBody[_ngcontent-%COMP%]{margin-top:20%;text-align:center}.newUserForm[_ngcontent-%COMP%]{margin-top:6%}h3[_ngcontent-%COMP%]{margin-top:20vh;font-size:200%}.newUserForm[_ngcontent-%COMP%]{margin-top:5%;text-align:center}label[_ngcontent-%COMP%]{display:block;position:absolute;text-align:left;padding-left:30vh}input[_ngcontent-%COMP%]{margin-top:1%;width:22vh;height:20px}.login-button[_ngcontent-%COMP%]{margin-top:1%;height:3vh;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background-color:#7ea381;color:#fffff9}\", \"@import url('http://fonts.cdnfonts.com/css/unjamobatang');\"]\n  });\n  return NewuserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}